<h1 id="map-elements">Map Elements</h1>

<p>Map control contains a set of map elements such as shapes, bubbles, markers, legend, labels and data items that can be visualized with the customized appearance showing additional information on the map by using the bound data.</p>

<h2 id="markers">Markers</h2>

<p>Markers are notes used to leave some message on the map.</p>

<p>There are two ways to set marker for map.</p>

<ol>
  <li>
    <p>Marker and marker template</p>
  </li>
  <li>
    <p>Adding marker objects to map.</p>
  </li>
</ol>

<h3 id="markers-and-marker-template">Markers and Marker Template</h3>

<p>The <code class="highlighter-rouge">markers</code> property has a list of objects that contains the data for Annotation. By default, it displays the bound data at the specified latitude and longitude. The <code class="highlighter-rouge">markerTemplate</code> property is used for customizing the template for markers.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript">/// &lt;reference path="../tsfiles/jquery.d.ts"&gt;&lt;/reference&gt;
/// &lt;reference path="../tsfiles/ej.web.all.d.ts"&gt;&lt;/reference&gt;

    var markers = [
        { latitude: 37.0000, longitude: -120.0000, city: "California" },
        { latitude: 40.7127, longitude: -74.0059, city: "New York" },
        { latitude: 42, longitude: -93, city: "Iowa" }            
    ];



module MapComponenet {
      
    $(function () {
       var mapSample = new ej.datavisualization.Map($("#map"), {
            layers: [ 
            {
                // ...                        
                markers: markers,
                markerTemplate: 'template'
            }]
        });
    });

}

    &lt;div  id="template" style="display: none;"&gt;
        &lt;div&gt;
            &lt;div  style="background-image:url(http://js.syncfusion.com/demos/web/Images/map/pin.png);margin-left:3px;height:40px;width:25px;margin-top:-15px;"&gt;
	   	   &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;  </code></pre></figure>

<p><img src="Map-Elements_images/Map-Elements_img1.png" alt="" /></p>

<h3 id="adding-marker-objects-to-the-map">Adding Marker objects to the map</h3>

<p>Without datasource, n number of markers can be added to shape layers with <code class="highlighter-rouge">markers</code> property. Each marker object contains the following list of properties.</p>

<ul>
  <li><code class="highlighter-rouge">label</code> - Text that displays some information about the annotation in text format.</li>
  <li><code class="highlighter-rouge">latitude</code> - Latitude point determine the Y-axis position of annotation.</li>
  <li><code class="highlighter-rouge">longitude</code> - Longitude point determine the X-axis position of annotation.</li>
</ul>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript">/// &lt;reference path="../tsfiles/jquery.d.ts"&gt;&lt;/reference&gt;
/// &lt;reference path="../tsfiles/ej.web.all.d.ts"&gt;&lt;/reference&gt;

    var markers = [
        { latitude: 37.0000, longitude: -120.0000, city: "California" },
        { latitude: 40.7127, longitude: -74.0059, city: "New York" },
        { latitude: 42, longitude: -93, city: "Iowa" }            
    ];

    module MapComponenet {

    $(function () {
        var mapSample = new ej.datavisualization.Map($("#map"), {
            layers: [ 
            {
                // ...                        
                markers: markers,
                markerTemplate: 'template'
            }]
        });
    });

   }

    &lt;div  id="template" style="display: none;"&gt;
        &lt;div&gt;
            &lt;div style="margin-left:8px;height:45px;width:120px;margin-top:-23px;"&gt;					
	           &lt;label class="label1" style="color:black;margin-left:15px;font-weight:normal"&gt;&lt;/label&gt;				 			 
	        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;  </code></pre></figure>

<p><img src="Map-Elements_images/Map-Elements_img2.png" alt="" /></p>

<h2 id="bubbles">Bubbles</h2>

<p>Bubbles in the <strong>Maps</strong> control represent the underlying data values of the map. Bubbles are scattered throughout the map shapes that contain bound values.</p>

<p>Bubbles are included when data binding and the <code class="highlighter-rouge">bubbleSettings</code> is set to the shape layers.</p>

<h3 id="properties">Properties</h3>

<table>
<tr>
<th>
Property</th><th>
Type</th><th>
Description</th></tr>
<tr>
<td>
maxValue</td><td>
String</td><td>
Get or sets the maximum height and width of the bubble.</td></tr>
<tr>
<td>
minValue</td><td>
String</td><td>
Gets or sets the minimum height and width of the bubble.</td></tr>
<tr>
<td>
colorValuePath</td><td>
String</td><td>
Get or sets the field value that is to be fetched from data for each bubble used for determining the bubble color.</td></tr>
<tr>
<td>
valuePath</td><td>
String</td><td>
Gets or sets the field value that is to be fetched from data for each bubble.</td></tr>
<tr>
<td>
colorMappings</td><td>
Collection of RangeColorMapping</td><td>
Gets or sets the tree map colors.</td></tr>
<tr>
<td>
Color</td><td>
String</td><td>
Gets or sets the fill color for bubbles.</td></tr>
<tr>
<td>
showTooltip</td><td>
Boolean</td><td>
Enable or disable the tooltip for bubbles.</td></tr>
<tr>
<td>
tooltipTemplate</td><td>
String</td><td>
Gets or sets the tooltip template for bubbles.</td></tr>
<tr>
<td>
bubbleOpacity</td><td>
Boolean</td><td>
Specifies the `bubbleOpacity` value of bubbles for shape layer in map.</td></tr>
<tr>
<td>
showBubble</td><td>
Boolean</td><td>
Specifies the `showBubble` visibility status map.</td></tr>
</table>

<h3 id="add-bubbles-to-the-map">Add Bubbles to the Map</h3>

<p>To add bubbles to a map, the bubble marker setting is added to the shape file layer. Create the Model and ViewModel as illustrated in the Data Binding topic and add the following code. Also set the <code class="highlighter-rouge">maxValue</code>, <code class="highlighter-rouge">minValue</code>, and <code class="highlighter-rouge">valuePath</code> properties as illustrated in the following code sample.</p>

<p>N&gt; <code class="highlighter-rouge">Tooltip</code> and <code class="highlighter-rouge">Color Mappings</code> for bubble is to be set as similar to the tooltip and color mappings set in the layers and shapeSettings. For more details, refer to the Tooltip and Color Mappings section.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript">    $(function () {
       var mapSample = new ej.datavisualization.Map($("#map"), {
            layers: [
            {
                shapeData: usMap,
                shapeDataPath: "name",
                shapePropertyPath: "name",
                dataSource: [
                    { name: "California", population: "38332521" },
                    { name: "New York", population: "19651127" },
                    { name: "Iowa", population: "3090416" }
                ],
                enableMouseHover: true,
                shapeSettings: {
                    fill: "#9CBF4E",
                    strokeThickness: "0.5",
                    stroke: "White"
                },
                bubbleSettings: {
                    showBubble:true,
                    minValue: "20",
                    maxValue: "40",
                    color: "#C99639",
                    valuePath: "population"
                }
            }]
        });
    });</code></pre></figure>

<p><img src="Map-Elements_images/Map-Elements_img3.png" alt="" /></p>

<h2 id="legend">Legend</h2>

<p>A legend is a key used on a map that contains swatches of symbols with descriptions. It provides valuable information for interpreting what the map is displaying and can be represented in various colors, shapes or other identifiers based on the data. It gives a breakdown of what each symbol represents throughout the map.</p>

<h3 id="visibility">Visibility</h3>

<p>The Legends can be made visible by setting the <code class="highlighter-rouge">showLegend</code> property of legendSettings to true.</p>

<h3 id="positioning-of-the-legend">Positioning of the Legend</h3>

<p>The legend can be positioned in two ways.</p>

<ol>
  <li>
    <p>Absolute Position.</p>
  </li>
  <li>
    <p>Dock Position.</p>
  </li>
</ol>

<h4 id="absolute-position">Absolute Position</h4>

<p>Based on the margin values of X and Y-axes, the Map legends can be positioned with the support of <code class="highlighter-rouge">positionX</code> and <code class="highlighter-rouge">positionY</code> properties available in <code class="highlighter-rouge">legendSettings</code>. For positioning the legend based on margins corresponding to a map, <code class="highlighter-rouge">position</code> value is set as ‘<em>none</em>’.</p>

<h4 id="dock-position">Dock Position</h4>

<p>The map legends can be positioned in following locations within the container.</p>

<ol>
  <li>
    <p>topLeft</p>
  </li>
  <li>
    <p>topCenter</p>
  </li>
  <li>
    <p>topRight</p>
  </li>
  <li>
    <p>centerLeft</p>
  </li>
  <li>
    <p>center</p>
  </li>
  <li>
    <p>centerRight</p>
  </li>
  <li>
    <p>bottomLeft</p>
  </li>
  <li>
    <p>bottomRight</p>
  </li>
  <li>
    <p>bottomCenter</p>
  </li>
  <li>
    <p>bottomRight</p>
  </li>
  <li>
    <p>none</p>
  </li>
</ol>

<p>You can set this option by using <code class="highlighter-rouge">dockPosition</code> property in <code class="highlighter-rouge">legendSettings</code>.</p>

<h3 id="legend-size">Legend Size</h3>

<p>The map legend size can be modified by using the <code class="highlighter-rouge">height</code> and <code class="highlighter-rouge">width</code> properties in <code class="highlighter-rouge">legendSettings</code>.</p>

<h3 id="legend-for-shapes">Legend for Shapes</h3>

<p>The Layer shape type legends can be generated for each color mappings in shape settings.</p>

<p>N&gt; Here, Equal Color Mapping code sample for shapeSettings with color mappings is referred.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript">    $(function () {
       var mapSample = new ej.datavisualization.Map($("#map"), {
            layers: [
            {
                // ...
                legendSettings:{
                    showLegend:true,
                    position:"bottomleft",
                    height: 30,
                    width: 70,                         
                },
                // ...                        
            }]
        });
    });</code></pre></figure>

<p><img src="Map-Elements_images/Map-Elements_img4.png" alt="" /></p>

<h3 id="interactive-legend">Interactive Legend</h3>

<p>The legends can be made interactive with an arrow mark indicating the exact range color in the legend when the mouse hovers over the corresponding shapes. You can enable this option by setting <code class="highlighter-rouge">mode</code> property in <code class="highlighter-rouge">legendSettings</code> value as “interactive” and default value of <code class="highlighter-rouge">mode</code> property is “default” to enable the normal legend.</p>

<h4 id="title-for-interactive-legend">Title for Interactive Legend</h4>

<p>You can provide the title for interactive legend by using <code class="highlighter-rouge">title</code> property in <code class="highlighter-rouge">legendSettings</code>.</p>

<h4 id="label-for-interactive-legend">Label for Interactive Legend</h4>

<p>You can provide the left and right labels to interactive legend by using <code class="highlighter-rouge">leftLabel</code> and <code class="highlighter-rouge">rightLabel</code> properties in <code class="highlighter-rouge">legendSettings</code>.</p>

<p>N&gt; Here, Range Color Mapping code snippet for shapeSettings with color mappings is referred.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript">    $(function () {
       var mapSample = new ej.datavisualization.Map($("#map"), {
            layers: [
            {
                // ...
                legendSettings: {
                    showLegend: true,
                    dockOnMap:true,
                    height: 15,
                    width: 150,
                    position: "topleft",
                    mode: "interactive",
                    title: "Population",
                    leftLabel: "0.5M",
                    rightLabel: "40M"
                },
                // ...                        
            }]
        }); 
    });</code></pre></figure>

<p><img src="Map-Elements_images/Map-Elements_img5.png" alt="" /></p>

<h3 id="bubble-legend">Bubble Legend</h3>

<p>A bubble legend feature is used to provide the key (legend) for another map element bubble. You can activate the Bubble legend by setting the enum <code class="highlighter-rouge">type</code> in <code class="highlighter-rouge">legendSettings</code> as “bubble” and this enables you to easily identify what value a particular bubble is representing.</p>

<figure class="highlight"><pre><code class="language-typescript" data-lang="typescript">    $(function () {
       var mapSample = new ej.datavisualization.Map($("#map"), {
            layers: [
            {
                legendSettings: {
                    // ...
                    type: "bubbles",                            
                    // ...
                },
                
                bubbleSettings: {
                    showBubble:true,
                    valuePath: "population",
                    minValue: 20,
                    maxValue: 40,	
                    colorMappings:
                    {
                        rangeColorMapping:
                        [
                            {
                                from: 500000,
                                to: 1000000,
                                color: "#9CBF4E",
                                range: 10688
                            },
                            {
                                from: 1000001,
                                to: 5000000,
                                color: "#45D6BD",
                                range: 19390
                            },
                            {
                                from: 5000001,
                                to: 10000000,
                                color: "#FF567C",
                                range: 18718
                            },
                            {
                                from: 10000001,
                                to: 40000000,
                                color: "#470F52",
                                range: 30716
                            }
                        ],
                    }                                
                },
                shapeData: usMap
                }
            ]
        });
    });</code></pre></figure>

<p><img src="Map-Elements_images/Map-Elements_img6.png" alt="" /></p>

